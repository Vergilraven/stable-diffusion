## 部署

- [安装 Serverless Devs Cli 开发者工具](https://www.serverless-devs.com/serverless-devs/install) ，并进行[授权信息配置](https://docs.serverless-devs.com/fc/config)
- 进行项目部署：`s deploy - y`

## 模型启动速度优化

因为本身 sd 的模型较大，打包镜像后依然达到 10G，函数计算拉起镜像冷启动时间会比较长，大概 2-5 分钟。 因此，可以对 sd 模型进行优化, 思路和方法不限：

- 可以针对具体细化的特定场景， 裁剪 sd 模型

- 使用最新的 sd 模型

- ...

## 如何二次开发

1. 重新构建镜像

   > TODO

2. 镜像推送阿里云容器镜像服务 ACR

3. 修改 s.yaml 中的 image

4. s deploy -y 重新部署

## 常见问题

#### 1.镜像加速

为了提升冷启动时间，我们提供了镜像加速服务，请关注控制台上的镜像加速状态，只有在 ready 才真正可用。

#### 2. 刚进去输入提示词构建偶尔会失败

这个可能是因为模型本身还未加载，请注意查看左上角选择框里面包含模型内容，之后再操作。出图的时候会有一定的等待时间，这个是正常现象，耐心等待即可

#### 3 资费消耗

GPU 本身对算力资源消耗较大，我们默认提供的是按量付费的模式，当您不用的时候会自动释放资源，这样可以帮您减少资费消耗

#### 4 模型及插件扩展

目前版本不支持模型和插件的动态扩展，如您有需求，可以加入我们官方群中提出

#### 5 其他注意事项

1. 本次构建的 stable-diffusion 模型固化到镜像中，您无法修改和添加模型，包括生成的图片因为冷启动无法持久化保存，请在生成后自行保存

2. 使用 GPU 渲染会有资费消耗，使用的时候请注意自己的消费额度。
